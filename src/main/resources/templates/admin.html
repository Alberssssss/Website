<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head><title>管理员</title></head>
<body>
<h1 th:text="${adminWelcome}">管理员，欢迎！</h1>
<div th:if="${error}" style="color:red" th:text="${error}"></div>
<div th:if="${success}" style="color:green" th:text="${success}"></div>

<h2>发布公告</h2>
<form th:action="@{/admin/post}" method="post">
  <textarea name="content" rows="3" cols="50" placeholder="输入公告内容"></textarea><br/>
  <button type="submit">发布公告</button>
</form>

<h2>所有公告</h2>
<ul>
  <li th:each="ann : ${announcements}"
      th:text="${#dates.format(ann.createdTime, 'yyyy-MM-dd HH:mm')} + ' - ' + ann.content">
    公告内容示例
  </li>
  <li th:if="${announcements.size() == 0}">（暂无公告）</li>
</ul>

<h2>学生账号</h2>
<ul>
  <li th:each="stu : ${students}" th:text="${stu.username} + ' - ' + stu.fullName"></li>
  <li th:if="${students.size() == 0}">（暂无学生）</li>
</ul>

<h2>老师账号</h2>
<ul>
  <li th:each="t : ${teachers}" th:text="${t.username} + ' - ' + t.fullName"></li>
  <li th:if="${teachers.size() == 0}">（暂无老师）</li>
</ul>

<h2>所有账号密码</h2>
<table border="1">
  <tr><th>用户名</th><th>密码</th><th>角色</th></tr>
  <tr th:each="u : ${users}">
    <td th:text="${u.username}"></td>
    <td th:text="${u.password}"></td>
    <td th:text="${u.role}"></td>
  </tr>
  <tr th:if="${users.size() == 0}"><td colspan="3">（暂无用户）</td></tr>
</table>

<h2>创建老师账号</h2>
<form th:action="@{/admin/create-teacher}" method="post">
  用户名: <input type="text" name="username"/><br/>
  姓名: <input type="text" name="fullName"/><br/>
  密码: <input type="password" name="password"/><br/>
  <button type="submit">创建</button>
</form>
</body>
</html>
